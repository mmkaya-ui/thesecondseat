<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Second Seat | Hunger is cured by food. Isolation by company.</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Config for Brand Colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        charcoal: '#2C3E50',
                        terracotta: '#E27D60',
                        cream: '#F9F7F2',
                        stone: '#DCDCDC',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F9F7F2; /* Cream base */
            color: #2C3E50;
            scroll-behavior: smooth;
        }
        
        /* Custom Animations */
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #F9F7F2;
        }
        ::-webkit-scrollbar-thumb {
            background: #E27D60;
            border-radius: 4px;
        }

        /* Hero Image Overlay */
        .hero-bg {
            background-image: linear-gradient(rgba(44, 62, 80, 0.7), rgba(44, 62, 80, 0.6)), url('https://images.unsplash.com/photo-1543362906-ac1b452601d8?q=80&w=2000&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-charcoal/95 backdrop-blur-sm text-cream border-b border-white/10 transition-all" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <!-- Logo -->
                <div class="flex-shrink-0 cursor-pointer" onclick="showSection('home')">
                    <div class="flex items-center gap-3">
                        <svg width="40" height="40" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <!-- Table -->
                            <circle cx="50" cy="50" r="25" stroke="#E27D60" stroke-width="3"/>
                            <!-- Solid Chair (You) -->
                            <path d="M50 15 C60 15 65 20 65 25" stroke="#F9F7F2" stroke-width="3" stroke-linecap="round"/>
                            <path d="M50 15 C40 15 35 20 35 25" stroke="#F9F7F2" stroke-width="3" stroke-linecap="round"/>
                            <!-- Dotted Chair (The Guest) -->
                            <path d="M50 85 C60 85 65 80 65 75" stroke="#E27D60" stroke-width="3" stroke-linecap="round" stroke-dasharray="4 4"/>
                            <path d="M50 85 C40 85 35 80 35 75" stroke="#E27D60" stroke-width="3" stroke-linecap="round" stroke-dasharray="4 4"/>
                        </svg>
                        <span class="font-serif text-xl font-bold tracking-wider" data-key="brandName">The Second Seat</span>
                    </div>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-6">
                    <div class="flex items-baseline space-x-8">
                        <button onclick="showSection('home')" class="hover:text-terracotta transition-colors px-3 py-2 rounded-md text-sm font-medium" data-key="nav.mission">Mission</button>
                        <button onclick="showSection('directory')" class="hover:text-terracotta transition-colors px-3 py-2 rounded-md text-sm font-medium" data-key="nav.find">Find a Seat</button>
                        <button onclick="showSection('register')" class="bg-terracotta hover:bg-orange-700 text-white px-5 py-2 rounded-full text-sm font-medium transition-all shadow-lg transform hover:-translate-y-0.5" data-key="nav.register">For Restaurants</button>
                    </div>
                    
                    <!-- Language Switcher -->
                    <div class="flex items-center gap-2 border-l border-white/20 pl-6">
                        <button onclick="setLanguage('en')" class="text-xs font-bold hover:text-terracotta transition-colors lang-btn" id="btn-en">EN</button>
                        <button onclick="setLanguage('de')" class="text-xs font-bold hover:text-terracotta transition-colors lang-btn text-gray-400" id="btn-de">DE</button>
                        <button onclick="setLanguage('tr')" class="text-xs font-bold hover:text-terracotta transition-colors lang-btn text-gray-400" id="btn-tr">TR</button>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="-mr-2 flex md:hidden">
                    <button type="button" onclick="toggleMobileMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none">
                        <i data-lucide="menu" class="h-6 w-6"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div class="md:hidden hidden bg-charcoal border-t border-gray-700" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <button onclick="showSection('home')" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left" data-key="nav.mission">Mission</button>
                <button onclick="showSection('directory')" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left" data-key="nav.find">Find a Seat</button>
                <button onclick="showSection('register')" class="text-terracotta font-bold block px-3 py-2 rounded-md text-base w-full text-left" data-key="nav.register">Restaurant Sign Up</button>
                <div class="flex gap-4 px-3 py-4 border-t border-gray-700 mt-2">
                    <button onclick="setLanguage('en')" class="text-sm font-bold text-white">EN</button>
                    <button onclick="setLanguage('de')" class="text-sm font-bold text-gray-400">DE</button>
                    <button onclick="setLanguage('tr')" class="text-sm font-bold text-gray-400">TR</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- CONTENT SECTIONS CONTAINER -->
    <main class="pt-20">

        <!-- SECTION: HOME / HERO -->
        <div id="home" class="page-section">
            <!-- Hero -->
            <div class="relative h-[90vh] flex items-center justify-center hero-bg">
                <div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h1 class="font-serif text-5xl md:text-7xl text-cream font-bold leading-tight mb-6 fade-in">
                        <span data-key="hero.line1">Hunger is cured by food.</span><br>
                        <span class="text-terracotta italic" data-key="hero.line2">Isolation is cured by company.</span>
                    </h1>
                    <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-200 fade-in delay-100 font-light" data-key="hero.desc">
                        We bridge the divide. You invite a neighbor in need. You share a meal. 
                        The restaurant covers their tab.
                    </p>
                    <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center fade-in delay-200">
                        <button onclick="showSection('directory')" class="bg-terracotta hover:bg-orange-700 text-white px-8 py-4 rounded-full text-lg font-semibold shadow-lg transition-all flex items-center justify-center gap-2">
                            <i data-lucide="utensils"></i> <span data-key="cta.find">Find a Table</span>
                        </button>
                        <button onclick="showSection('register')" class="bg-transparent border-2 border-cream text-cream hover:bg-cream hover:text-charcoal px-8 py-4 rounded-full text-lg font-semibold transition-all flex items-center justify-center gap-2">
                             <span data-key="cta.owner">I Own a Restaurant</span>
                        </button>
                    </div>
                </div>
                
                <!-- Scroll Indicator -->
                <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce text-cream/50">
                    <i data-lucide="chevron-down" class="w-8 h-8"></i>
                </div>
            </div>

            <!-- The Manifesto -->
            <section class="py-24 bg-cream">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                        <div>
                            <span class="text-terracotta font-bold tracking-widest uppercase text-sm" data-key="manifesto.label">The Vision</span>
                            <h2 class="font-serif text-4xl text-charcoal font-bold mt-2 mb-6" data-key="manifesto.title">More Than a Meal. A Movement.</h2>
                            <p class="text-lg text-gray-600 mb-6 leading-relaxed">
                                <span data-key="manifesto.p1">Charity often involves a vertical dynamic—dropping a coin in a cup and walking away.</span> 
                                <strong data-key="brandName">The Second Seat</strong> 
                                <span data-key="manifesto.p2">is about solidarity. It is a horizontal dynamic.</span>
                            </p>
                            <p class="text-lg text-gray-600 mb-8 leading-relaxed" data-key="manifesto.p3">
                                We partner with restaurants to turn unused capacity into dignity. When you bring a homeless or food-insecure guest to a participating venue, you pay for yourself. The restaurant, honoring their pledge, covers your guest. You both leave full.
                            </p>
                            
                            <div class="border-l-4 border-terracotta pl-6 py-2 bg-white/50 rounded-r-lg">
                                <p class="italic text-charcoal font-serif text-xl" data-key="manifesto.quote">"The table is the only place where we are not defined by what we have, but by what we share."</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-4 mt-8">
                                <div class="bg-white p-6 rounded-xl shadow-sm h-48 flex flex-col justify-center items-center text-center">
                                    <i data-lucide="armchair" class="w-10 h-10 text-terracotta mb-3"></i>
                                    <h3 class="font-bold text-charcoal" data-key="grid.dignity.title">Dignity First</h3>
                                    <p class="text-sm text-gray-500 mt-2" data-key="grid.dignity.desc">No separate lines. No special menus. Just dinner.</p>
                                </div>
                                <div class="bg-charcoal p-6 rounded-xl shadow-sm h-48 flex flex-col justify-center items-center text-center text-cream">
                                    <i data-lucide="shield-check" class="w-10 h-10 text-terracotta mb-3"></i>
                                    <h3 class="font-bold" data-key="grid.impact.title">Verified Impact</h3>
                                    <p class="text-sm text-gray-400 mt-2" data-key="grid.impact.desc">Every participating restaurant is vetted and trained.</p>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <div class="bg-terracotta p-6 rounded-xl shadow-sm h-48 flex flex-col justify-center items-center text-center text-white">
                                    <i data-lucide="users" class="w-10 h-10 text-white mb-3"></i>
                                    <h3 class="font-bold" data-key="grid.community.title">Community</h3>
                                    <p class="text-sm text-orange-100 mt-2" data-key="grid.community.desc">Breaking the walls of social isolation.</p>
                                </div>
                                <div class="bg-white p-6 rounded-xl shadow-sm h-48 flex flex-col justify-center items-center text-center">
                                    <i data-lucide="heart-handshake" class="w-10 h-10 text-terracotta mb-3"></i>
                                    <h3 class="font-bold" data-key="grid.bill.title">The Invisible Bill</h3>
                                    <p class="text-sm text-gray-500 mt-2" data-key="grid.bill.desc">The check never arrives for the guest. It's handled silently.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- SECTION: DIRECTORY (Find a Seat) -->
        <div id="directory" class="page-section hidden min-h-screen bg-gray-50">
            <div class="bg-charcoal text-cream py-16">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h2 class="font-serif text-4xl font-bold" data-key="directory.title">Find a Seat</h2>
                    <p class="mt-4 text-gray-300 max-w-2xl mx-auto" data-key="directory.subtitle">Locate participating restaurants nearby. Check the live capacity indicator before you go.</p>
                    
                    <!-- Filters -->
                    <div class="mt-8 flex flex-wrap justify-center gap-4">
                        <button onclick="filterRestaurants('all')" class="filter-btn active bg-terracotta text-white px-6 py-2 rounded-full text-sm font-semibold transition-all" data-key="filter.all">All</button>
                        <button onclick="filterRestaurants('Breakfast')" class="filter-btn bg-white/10 hover:bg-white/20 text-white px-6 py-2 rounded-full text-sm font-semibold transition-all" data-key="filter.breakfast">Breakfast</button>
                        <button onclick="filterRestaurants('Lunch')" class="filter-btn bg-white/10 hover:bg-white/20 text-white px-6 py-2 rounded-full text-sm font-semibold transition-all" data-key="filter.lunch">Lunch</button>
                        <button onclick="filterRestaurants('Dinner')" class="filter-btn bg-white/10 hover:bg-white/20 text-white px-6 py-2 rounded-full text-sm font-semibold transition-all" data-key="filter.dinner">Dinner</button>
                    </div>
                </div>
            </div>

            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <!-- Info Banner -->
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-8 rounded-r-md flex items-start gap-3">
                    <i data-lucide="info" class="text-blue-500 w-5 h-5 mt-0.5"></i>
                    <div>
                        <p class="text-sm text-blue-800 font-bold" data-key="protocol.title">Patron Protocol</p>
                        <p class="text-sm text-blue-700" data-key="protocol.desc">Please arrive together. Mention "The Second Seat Reservation" quietly to the host upon arrival.</p>
                    </div>
                </div>

                <!-- Restaurant Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="restaurant-grid">
                    <!-- Cards injected via JS -->
                </div>
            </div>
        </div>

        <!-- SECTION: REGISTER (For Restaurants) -->
        <div id="register" class="page-section hidden min-h-screen bg-cream">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col lg:flex-row">
                    <!-- Left Side: Copy -->
                    <div class="lg:w-1/2 bg-charcoal p-12 text-cream flex flex-col justify-center">
                        <h2 class="font-serif text-4xl font-bold mb-6" data-key="register.title">Set the Table.</h2>
                        <p class="text-lg text-gray-300 mb-8" data-key="register.subtitle">
                            Join a network of conscious businesses turning empty tables into social impact.
                        </p>
                        <ul class="space-y-6">
                            <li class="flex items-start gap-4">
                                <div class="bg-white/10 p-2 rounded-full">
                                    <i data-lucide="check" class="w-5 h-5 text-terracotta"></i>
                                </div>
                                <div>
                                    <h4 class="font-bold" data-key="register.feat1.title">Tax Deductible</h4>
                                    <p class="text-sm text-gray-400" data-key="register.feat1.desc">All meals provided are tracked and certified as charitable contributions.</p>
                                </div>
                            </li>
                            <li class="flex items-start gap-4">
                                <div class="bg-white/10 p-2 rounded-full">
                                    <i data-lucide="shield" class="w-5 h-5 text-terracotta"></i>
                                </div>
                                <div>
                                    <h4 class="font-bold" data-key="register.feat2.title">Control Your Capacity</h4>
                                    <p class="text-sm text-gray-400" data-key="register.feat2.desc">You set the limit. 2 seats a night or 20. Pause anytime via SMS.</p>
                                </div>
                            </li>
                            <li class="flex items-start gap-4">
                                <div class="bg-white/10 p-2 rounded-full">
                                    <i data-lucide="award" class="w-5 h-5 text-terracotta"></i>
                                </div>
                                <div>
                                    <h4 class="font-bold" data-key="register.feat3.title">Badge of Honor</h4>
                                    <p class="text-sm text-gray-400" data-key="register.feat3.desc">Receive our window decal and digital badge showing you support the community.</p>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!-- Right Side: Form -->
                    <div class="lg:w-1/2 p-12 bg-white">
                        <form id="partnerForm" onsubmit="handleRegistration(event)">
                            <h3 class="text-2xl font-bold text-charcoal mb-6" data-key="form.title">Application to Register</h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1" data-key="form.name">Restaurant Name</label>
                                    <input type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-terracotta focus:border-transparent outline-none transition-all">
                                </div>

                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1" data-key="form.manager">Manager Name</label>
                                        <input type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-terracotta outline-none">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1" data-key="form.phone">Business Phone</label>
                                        <input type="tel" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-terracotta outline-none">
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1" data-key="form.license">Business License #</label>
                                    <input type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-terracotta outline-none">
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1" data-key="form.pledge">Proposed Pledge (Seats per Week)</label>
                                    <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-terracotta outline-none">
                                        <option data-key="form.opt1">1-5 Seats</option>
                                        <option data-key="form.opt2">5-10 Seats</option>
                                        <option data-key="form.opt3">10-20 Seats</option>
                                        <option data-key="form.opt4">Unlimited</option>
                                    </select>
                                </div>

                                <div class="pt-4">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" required class="w-4 h-4 text-terracotta rounded border-gray-300 focus:ring-terracotta">
                                        <span class="text-sm text-gray-600"><span data-key="form.agree">I agree to the </span><a href="#" class="text-terracotta hover:underline" data-key="grid.bill.title">Invisible Bill Protocol</a>.</span>
                                    </label>
                                </div>

                                <button type="submit" class="w-full bg-charcoal hover:bg-gray-800 text-white font-bold py-3 rounded-lg mt-6 transition-all flex items-center justify-center gap-2">
                                    <span data-key="form.submit">Submit Application</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
    <footer class="bg-charcoal text-white py-12 border-t border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0 text-center md:text-left">
                    <h3 class="font-serif text-2xl font-bold text-cream" data-key="brandName">The Second Seat</h3>
                    <p class="text-gray-400 mt-2 text-sm" data-key="footer.tagline">Building tables, not walls.</p>
                </div>
                <div class="flex space-x-8 text-sm text-gray-400">
                    <a href="#" class="hover:text-terracotta transition-colors" data-key="footer.conduct">Code of Conduct</a>
                    <a href="#" class="hover:text-terracotta transition-colors" data-key="footer.safety">Safety Guidelines</a>
                    <a href="#" class="hover:text-terracotta transition-colors" data-key="footer.contact">Contact</a>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-white/5 text-center text-xs text-gray-500">
                &copy; 2024 The Second Seat Initiative. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- SUCCESS MODAL (Hidden by default) -->
    <div id="successModal" class="fixed inset-0 z-[60] hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-charcoal/80 backdrop-blur-sm" onclick="closeModal()"></div>
        <!-- Content -->
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="check" class="w-8 h-8 text-green-600"></i>
            </div>
            <h3 class="font-serif text-3xl font-bold text-charcoal mb-2" data-key="modal.title">Table Set.</h3>
            <p class="text-gray-600 mb-6" data-key="modal.body">
                You’ve just joined a quiet revolution. By pledging your capacity, you aren't just giving away food; you are reclaiming the public square.
            </p>
            <p class="text-sm text-gray-500 mb-6" data-key="modal.footer">
                Our verification team will call the number provided within 24 hours.
            </p>
            <button onclick="closeModal()" class="w-full bg-terracotta text-white font-bold py-3 rounded-lg hover:bg-orange-700 transition-colors">
                <span data-key="modal.btn">Return to Home</span>
            </button>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- TRANSLATIONS CONFIGURATION ---
        const translations = {
            en: {
                brandName: "The Second Seat",
                nav: { mission: "Mission", find: "Find a Seat", register: "For Restaurants" },
                hero: {
                    line1: "Hunger is cured by food.",
                    line2: "Isolation is cured by company.",
                    desc: "We bridge the divide. You invite a neighbor in need. You share a meal. The restaurant covers their tab."
                },
                cta: { find: "Find a Table", owner: "I Own a Restaurant" },
                manifesto: {
                    label: "The Vision",
                    title: "More Than a Meal. A Movement.",
                    p1: "Charity often involves a vertical dynamic—dropping a coin in a cup and walking away.",
                    p2: "is about solidarity. It is a horizontal dynamic.",
                    p3: "We partner with restaurants to turn unused capacity into dignity. When you bring a homeless or food-insecure guest to a participating venue, you pay for yourself. The restaurant, honoring their pledge, covers your guest. You both leave full.",
                    quote: "The table is the only place where we are not defined by what we have, but by what we share."
                },
                grid: {
                    dignity: { title: "Dignity First", desc: "No separate lines. No special menus. Just dinner." },
                    impact: { title: "Verified Impact", desc: "Every participating restaurant is vetted and trained." },
                    community: { title: "Community", desc: "Breaking the walls of social isolation." },
                    bill: { title: "The Invisible Bill", desc: "The check never arrives for the guest. It's handled silently." }
                },
                directory: { title: "Find a Seat", subtitle: "Locate participating restaurants nearby. Check the live capacity indicator before you go." },
                filter: { all: "All", breakfast: "Breakfast", lunch: "Lunch", dinner: "Dinner" },
                protocol: { title: "Patron Protocol", desc: "Please arrive together. Mention 'The Second Seat Reservation' quietly to the host upon arrival." },
                register: {
                    title: "Set the Table.",
                    subtitle: "Join a network of conscious businesses turning empty tables into social impact.",
                    feat1: { title: "Tax Deductible", desc: "All meals provided are tracked and certified as charitable contributions." },
                    feat2: { title: "Control Your Capacity", desc: "You set the limit. 2 seats a night or 20. Pause anytime via SMS." },
                    feat3: { title: "Badge of Honor", desc: "Receive our window decal and digital badge showing you support the community." }
                },
                form: {
                    title: "Application to Register",
                    name: "Restaurant Name",
                    manager: "Manager Name",
                    phone: "Business Phone",
                    license: "Business License #",
                    pledge: "Proposed Pledge",
                    opt1: "1-5 Seats",
                    opt2: "5-10 Seats",
                    opt3: "10-20 Seats",
                    opt4: "Unlimited",
                    agree: "I agree to the ",
                    submit: "Submit Application"
                },
                footer: {
                    tagline: "Building tables, not walls.",
                    conduct: "Code of Conduct",
                    safety: "Safety Guidelines",
                    contact: "Contact"
                },
                modal: {
                    title: "Table Set.",
                    body: "You’ve just joined a quiet revolution. By pledging your capacity, you aren't just giving away food; you are reclaiming the public square.",
                    footer: "Our verification team will call the number provided within 24 hours.",
                    btn: "Return to Home"
                },
                dynamic: {
                    full: "Full",
                    open: "Open Seats",
                    left: "Left",
                    daily: "Daily 'Second Seats'",
                    directions: "Get Directions"
                }
            },
            de: {
                brandName: "Der Zweite Stuhl",
                nav: { mission: "Mission", find: "Platz finden", register: "Für Restaurants" },
                hero: {
                    line1: "Hunger stillt man mit Essen.",
                    line2: "Einsamkeit mit Gesellschaft.",
                    desc: "Wir überbrücken die Kluft. Du lädst einen Nachbarn in Not ein. Ihr teilt ein Essen. Das Restaurant übernimmt die Rechnung für den Gast."
                },
                cta: { find: "Tisch finden", owner: "Für Gastronomen" },
                manifesto: {
                    label: "Die Vision",
                    title: "Mehr als nur Essen. Eine Bewegung.",
                    p1: "Wohltätigkeit ist oft distanziert – eine Münze im Hut und weitergehen.",
                    p2: "bedeutet Solidarität. Wir begegnen uns auf Augenhöhe.",
                    p3: "Wir arbeiten mit Restaurants zusammen, um freie Plätze in Würde zu verwandeln. Wenn du einen bedürftigen Gast mitbringst, zahlst du für dich selbst. Das Restaurant übernimmt den Gast. Beide gehen satt nach Hause.",
                    quote: "Der Tisch ist der einzige Ort, an dem wir nicht dadurch definiert werden, was wir haben, sondern was wir teilen."
                },
                grid: {
                    dignity: { title: "Würde zuerst", desc: "Keine separaten Schlangen. Keine speziellen Menüs. Einfach Abendessen." },
                    impact: { title: "Geprüfte Wirkung", desc: "Jedes teilnehmende Restaurant ist geprüft und geschult." },
                    community: { title: "Gemeinschaft", desc: "Die Mauern der sozialen Isolation durchbrechen." },
                    bill: { title: "Die Unsichtbare Rechnung", desc: "Die Rechnung kommt nie zum Gast. Sie wird lautlos geregelt." }
                },
                directory: { title: "Platz finden", subtitle: "Finde teilnehmende Restaurants in der Nähe. Prüfe die Verfügbarkeit bevor du gehst." },
                filter: { all: "Alle", breakfast: "Frühstück", lunch: "Mittagessen", dinner: "Abendessen" },
                protocol: { title: "Gast-Protokoll", desc: "Bitte kommen Sie gemeinsam an. Erwähnen Sie leise 'Die Zweite Stuhl Reservierung' beim Empfang." },
                register: {
                    title: "Deck den Tisch.",
                    subtitle: "Schließe dich einem Netzwerk bewusster Unternehmen an, die leere Tische in sozialen Wandel verwandeln.",
                    feat1: { title: "Steuerlich absetzbar", desc: "Alle bereitgestellten Mahlzeiten werden erfasst und als Spenden bescheinigt." },
                    feat2: { title: "Kontrolle über Kapazität", desc: "Du setzt das Limit. 2 Plätze pro Nacht oder 20. Pausiere jederzeit per SMS." },
                    feat3: { title: "Ehrenzeichen", desc: "Erhalte unseren Fensteraufkleber und das digitale Abzeichen für dein Engagement." }
                },
                form: {
                    title: "Registrierungsantrag",
                    name: "Name des Restaurants",
                    manager: "Name des Managers",
                    phone: "Geschäftstelefon",
                    license: "Gewerbeschein #",
                    pledge: "Vorgeschlagene Plätze",
                    opt1: "1-5 Plätze",
                    opt2: "5-10 Plätze",
                    opt3: "10-20 Plätze",
                    opt4: "Unbegrenzt",
                    agree: "Ich stimme dem Protokoll zu: ",
                    submit: "Antrag absenden"
                },
                footer: {
                    tagline: "Wir bauen Tische, keine Mauern.",
                    conduct: "Verhaltenskodex",
                    safety: "Sicherheitsrichtlinien",
                    contact: "Kontakt"
                },
                modal: {
                    title: "Tisch gedeckt.",
                    body: "Du hast dich einer stillen Revolution angeschlossen. Mit deiner Zusage verschenkst du nicht nur Essen; du eroberst den öffentlichen Raum zurück.",
                    footer: "Unser Verifizierungsteam wird die angegebene Nummer innerhalb von 24 Stunden anrufen.",
                    btn: "Zurück zur Startseite"
                },
                dynamic: {
                    full: "Belegt",
                    open: "Plätze frei",
                    left: "Verfügbar",
                    daily: "Tägliche 'Zweite Stühle'",
                    directions: "Route planen"
                }
            },
            tr: {
                brandName: "İkinci Sandalye",
                nav: { mission: "Misyon", find: "Yer Bul", register: "Restoranlar İçin" },
                hero: {
                    line1: "Açlığın ilacı yemektir.",
                    line2: "Yalnızlığın ilacı muhabbettir.",
                    desc: "Aradaki uçurumu kapatıyoruz. İhtiyaç sahibi bir komşunu davet et. Yemeğini paylaş. Hesabı restoran üstlensin."
                },
                cta: { find: "Masa Bul", owner: "Restoran Sahibiyim" },
                manifesto: {
                    label: "Vizyonumuz",
                    title: "Bir Yemekten Fazlası. Bir Hareket.",
                    p1: "Yardımseverlik genellikle yukarıdan aşağıyadır—bir sadaka verip uzaklaşmak gibi.",
                    p2: "dayanışmadır. Biz aynı hizada, aynı sofradayız.",
                    p3: "Restoranlarla işbirliği yaparak boş masaları haysiyetli bir paylaşıma dönüştürüyoruz. İhtiyaç sahibi bir misafiri getirdiğinde, sen kendi hesabını ödersin. Restoran, sözünü tutarak misafirini ağırlar. İkiniz de tok kalkarsınız.",
                    quote: "Sofralar, sahip olduklarımızla değil, paylaştıklarımızla tanımlandığımız tek yerdir."
                },
                grid: {
                    dignity: { title: "Önce Haysiyet", desc: "Ayrı sıra yok. Özel menü yok. Sadece akşam yemeği." },
                    impact: { title: "Onaylı Etki", desc: "Katılan her restoran denetlenmiş ve eğitilmiştir." },
                    community: { title: "Topluluk", desc: "Sosyal izolasyon duvarlarını yıkıyoruz." },
                    bill: { title: "Görünmez Hesap", desc: "Misafir hesabı görmez. Restoran tarafından sessizce halledilir." }
                },
                directory: { title: "Yer Bul", subtitle: "Yakındaki katılımcı restoranları bul. Gitmeden önce doluluk durumunu kontrol et." },
                filter: { all: "Tümü", breakfast: "Kahvaltı", lunch: "Öğle", dinner: "Akşam" },
                protocol: { title: "Misafir Protokolü", desc: "Lütfen birlikte gelin. Girişte sessizce 'İkinci Sandalye Rezervasyonu' olduğunu belirtin." },
                register: {
                    title: "Sofrayı Kur.",
                    subtitle: "Boş masaları sosyal faydaya dönüştüren duyarlı işletmeler ağına katıl.",
                    feat1: { title: "Vergiden Düşülebilir", desc: "Sağlanan tüm yemekler takip edilir ve yardım makbuzu olarak sertifikalandırılır." },
                    feat2: { title: "Kapasite Kontrolü", desc: "Sınırı sen koy. Günde 2 sandalye veya 20. SMS ile dilediğin zaman duraklat." },
                    feat3: { title: "Onur Rozeti", desc: "Topluluğa desteğini gösteren vitrin çıkartmanı ve dijital rozetini al." }
                },
                form: {
                    title: "Kayıt Başvurusu",
                    name: "Restoran Adı",
                    manager: "Yönetici Adı",
                    phone: "İş Telefonu",
                    license: "İşletme Ruhsat No",
                    pledge: "Önerilen Kapasite",
                    opt1: "1-5 Sandalye",
                    opt2: "5-10 Sandalye",
                    opt3: "10-20 Sandalye",
                    opt4: "Sınırsız",
                    agree: "Şu protokolü kabul ediyorum: ",
                    submit: "Başvuruyu Gönder"
                },
                footer: {
                    tagline: "Duvar değil, sofra kuruyoruz.",
                    conduct: "Davranış Kuralları",
                    safety: "Güvenlik İlkeleri",
                    contact: "İletişim"
                },
                modal: {
                    title: "Masa Hazır.",
                    body: "Sessiz bir devrime katıldın. Kapasiteni paylaşarak sadece yemek vermiyorsun; kamusal alanı geri kazanıyorsun.",
                    footer: "Doğrulama ekibimiz 24 saat içinde verilen numarayı arayacaktır.",
                    btn: "Ana Sayfaya Dön"
                },
                dynamic: {
                    full: "Dolu",
                    open: "Yer Var",
                    left: "Kaldı",
                    daily: "Günlük 'İkinci Sandalye'",
                    directions: "Yol Tarifi Al"
                }
            }
        };

        let currentLang = 'en';

        // --- Mock Data ---
        const restaurants = [
            { id: 1, name: "The Hearth & Grain", cuisine: "Rustic American", location: "Downtown • 0.8 mi", type: "Dinner", capacity: 3, maxCapacity: 5, image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=600&auto=format&fit=crop" },
            { id: 2, name: "Luna's Table", cuisine: "Mediterranean", location: "West End • 2.1 mi", type: "Lunch", capacity: 0, maxCapacity: 4, image: "https://images.unsplash.com/photo-1559339352-11d035aa65de?q=80&w=600&auto=format&fit=crop" },
            { id: 3, name: "Early Bird Diner", cuisine: "Breakfast/Brunch", location: "Uptown • 1.5 mi", type: "Breakfast", capacity: 8, maxCapacity: 10, image: "https://images.unsplash.com/photo-1554679665-f5537f187268?q=80&w=600&auto=format&fit=crop" },
            { id: 4, name: "Saffron House", cuisine: "Indian Fusion", location: "Market District • 3.0 mi", type: "Dinner", capacity: 2, maxCapacity: 3, image: "https://images.unsplash.com/photo-1585937421612-70a008356f36?q=80&w=600&auto=format&fit=crop" },
            { id: 5, name: "Green Leaf Cafe", cuisine: "Organic/Vegan", location: "Arts District • 0.5 mi", type: "Lunch", capacity: 5, maxCapacity: 5, image: "https://images.unsplash.com/photo-1466978913421-dad938661248?q=80&w=600&auto=format&fit=crop" }
        ];

        // --- Logic ---
        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];

            // 1. Update text elements
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                // Access nested keys e.g. "hero.line1"
                const value = key.split('.').reduce((obj, k) => obj && obj[k], t);
                if (value) el.textContent = value;
            });

            // 2. Update active state of lang buttons
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if(btn.id === `btn-${lang}`) {
                    btn.classList.remove('text-gray-400');
                    btn.classList.add('text-white', 'underline');
                } else {
                    btn.classList.add('text-gray-400');
                    btn.classList.remove('text-white', 'underline');
                }
            });

            // 3. Re-render Directory to apply translations
            const activeFilterBtn = document.querySelector('.filter-btn:not(.bg-white\\/10)'); 
            // Find currently active filter logic implies checking text, 
            // but text changes. So default to 'all' or keep track of current filter type.
            // Simplified: reset to all or keep current global variable if we had one.
            filterRestaurants('all'); 
        }

        // Initialize Icons
        lucide.createIcons();

        // --- Navigation Logic ---
        function showSection(sectionId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('fade-in'));
            
            const target = document.getElementById(sectionId);
            target.classList.remove('hidden');
            target.classList.add('fade-in');

            document.getElementById('mobile-menu').classList.add('hidden');
            window.scrollTo(0, 0);

            if(sectionId === 'directory') {
                filterRestaurants('all');
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- Restaurant Directory Logic ---
        function renderRestaurants(data) {
            const grid = document.getElementById('restaurant-grid');
            grid.innerHTML = '';

            const t = translations[currentLang].dynamic;
            const tFilter = translations[currentLang].filter; // To translate types if needed

            data.forEach(r => {
                const isFull = r.capacity === 0;
                const capacityPct = (r.capacity / r.maxCapacity) * 100;
                
                // Translate the 'Type' (Breakfast/Lunch/Dinner)
                // Mapping simple English string to translation key
                let typeTrans = r.type;
                if(r.type === "Breakfast") typeTrans = tFilter.breakfast;
                if(r.type === "Lunch") typeTrans = tFilter.lunch;
                if(r.type === "Dinner") typeTrans = tFilter.dinner;

                const card = `
                    <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow border border-gray-100 group">
                        <div class="relative h-48 overflow-hidden">
                            <img src="${r.image}" alt="${r.name}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-charcoal shadow-sm">
                                ${typeTrans}
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h3 class="font-serif text-xl font-bold text-charcoal">${r.name}</h3>
                                    <p class="text-sm text-gray-500">${r.cuisine}</p>
                                </div>
                                <div class="flex flex-col items-end">
                                    <span class="text-xs font-semibold ${isFull ? 'text-red-500' : 'text-green-600'} flex items-center gap-1">
                                        <div class="w-2 h-2 rounded-full ${isFull ? 'bg-red-500' : 'bg-green-500'} animate-pulse"></div>
                                        ${isFull ? t.full : t.open}
                                    </span>
                                </div>
                            </div>
                            
                            <div class="mt-4 mb-4">
                                <div class="flex justify-between text-xs text-gray-500 mb-1">
                                    <span>${t.daily}</span>
                                    <span>${r.capacity} / ${r.maxCapacity} ${t.left}</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-terracotta h-2 rounded-full transition-all duration-1000" style="width: ${capacityPct}%"></div>
                                </div>
                            </div>

                            <div class="flex items-center justify-between mt-6">
                                <span class="text-xs text-gray-400 flex items-center gap-1">
                                    <i data-lucide="map-pin" class="w-3 h-3"></i> ${r.location}
                                </span>
                                <button class="text-terracotta text-sm font-bold hover:underline">${t.directions}</button>
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += card;
            });
            
            lucide.createIcons();
        }

        function filterRestaurants(type) {
            // Visual Button State
            document.querySelectorAll('.filter-btn').forEach(btn => {
                // Check attribute key instead of text content for robust matching
                const key = btn.getAttribute('data-key');
                const targetKey = 'filter.' + type.toLowerCase();
                
                // If type is capital (e.g. 'Breakfast'), we need to check if the button corresponds to it
                let isActive = false;
                if(type === 'all' && key === 'filter.all') isActive = true;
                if(type === 'Breakfast' && key === 'filter.breakfast') isActive = true;
                if(type === 'Lunch' && key === 'filter.lunch') isActive = true;
                if(type === 'Dinner' && key === 'filter.dinner') isActive = true;

                if(isActive) {
                    btn.classList.remove('bg-white/10', 'text-white');
                    btn.classList.add('bg-terracotta', 'text-white');
                } else {
                    btn.classList.add('bg-white/10', 'text-white');
                    btn.classList.remove('bg-terracotta');
                }
            });

            if(type === 'all') {
                renderRestaurants(restaurants);
            } else {
                const filtered = restaurants.filter(r => r.type === type);
                renderRestaurants(filtered);
            }
        }

        function handleRegistration(e) {
            e.preventDefault();
            const modal = document.getElementById('successModal');
            modal.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('successModal').classList.add('hidden');
            showSection('home');
            document.getElementById('partnerForm').reset();
        }

        // Initialize Icons & Set Default Language
        lucide.createIcons();
        setLanguage('en'); 

    </script>
</body>
</html>
